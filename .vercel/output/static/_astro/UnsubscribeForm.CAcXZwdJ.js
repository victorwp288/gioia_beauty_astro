import{j as e}from"./jsx-runtime.PRPpl5vZ.js";import{r as l}from"./index.RYns6xqu.js";import{s as u}from"./supabaseClient.QrUiqz_S.js";import"./preload-helper.CLcXU_4U.js";const h=()=>{const[o,i]=l.useState(""),[r,s]=l.useState(""),[n,c]=l.useState(!1),d=async t=>{t.preventDefault(),c(!0),s("");try{const{data:a,error:m}=await u.from("newsletter_subscribers").delete().eq("email",o).select();if(m)throw m;a?.length===0?s("Email not found in our newsletter list."):(s("You have been successfully unsubscribed."),i(""))}catch(a){console.error("Error:",a),s("An error occurred. Please try again.")}finally{c(!1)}};return e.jsxs("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Unsubscribe from Newsletter"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:o,onChange:t=>i(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary focus:ring-primary",required:!0})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary text-white py-2 px-4 rounded hover:bg-primary-dark disabled:opacity-50",children:n?"Processing...":"Unsubscribe"}),r&&e.jsx("p",{className:`text-center ${r.includes("success")?"text-green-600":"text-red-600"}`,children:r})]})]})};export{h as default};
